<script>
const paragraphs = [
{
text:`Ciao Amore, ti scrivo questa piccola lettera per affiancare il regalo con qualcosa che penso e spero possa rimanere un po' di più. Spero ti piaccia.`,
img:"https://picsum.photos/400/200?1"
},
{
text:`Era un po' di tempo che ragionavo su cosa regalarti per il nostro primo San Valentino insieme e non ti nego che di idee per la testa ne ho avute tante, più di quelle che io stesso potessi immaginare e non negherò il fatto che anche in questo la mia insicurezza abbia preso il sopravvento.`,
img:"https://picsum.photos/400/200?2"
},
{
text:`Volevo avvicinarmi il più possibile alla perfezione perché da quando stiamo insieme ho capito che forse ciò che conta non è il regalo, non è la cenetta insieme, non è il fare qualcosa ma sono i momenti a fare la differenza e beh passarli con te sono un qualcosa di stupendo, di speciale e che per nulla al mondo rimpiazzerei con qualsiasi altra cosa.`,
img:"https://picsum.photos/400/200?3"
},
{
text:`Stando con te ho poi scoperto che stare da soli non è poi così bello quando puoi avere una persona affianco che sa come prenderti, come farti ridere, che crede in te, ti dà fiducia e sa esattamente come toglierti ogni pensiero di dosso quando l’unica cosa che vorresti fare è chiuderti in te stesso.`,
img:"https://picsum.photos/400/200?4"
},
{
text:`In questi mesi sei stata una parte molto importante di me, forse la più importante. Sei l’unica che riesce a farmi sorridere come un bimbo con un solo sguardo e che con un sorriso mi riempie di gioia.`,
img:"https://picsum.photos/400/200?5"
},
{
text:`Questo mazzo di fiori penso che, per quanto bello, non dia lo stesso effetto. Ogni mattoncino rappresenta per noi la crescita che abbiamo avuto e quella che avverrà passo dopo passo insieme.`,
img:"https://picsum.photos/400/200?6"
},
{
text:`La bellezza di questi fiori non si avvicina minimamente alla tua, ma possono rappresentare una piccola parte di come decori tu ogni giorno la mia vita.`,
img:"https://picsum.photos/400/200?7"
},
{
text:`Buon San Valentino amore mio ❤️  
Con affetto,  
Elia ❤️`,
img:"https://picsum.photos/400/200?8"
}
];

let index = 0;

function typeText(text){
  const el = document.getElementById("text");
  el.innerHTML = "";
  let i = 0;
  function typing(){
    if(i < text.length){
      el.innerHTML += text.charAt(i);
      i++;
      setTimeout(typing, 20);
    }
  }
  typing();
}

function show(){
  const imgEl = document.getElementById("img");
  const textEl = document.getElementById("text");

  if(!paragraphs[index]) return;

  imgEl.style.backgroundImage = "url('" + paragraphs[index].img + "')";
  typeText(paragraphs[index].text);

  if(index === paragraphs.length - 1){
    document.getElementById("loveBtn").style.display = "block";
  } else {
    document.getElementById("loveBtn").style.display = "none";
  }
}

function next(){
  index = (index + 1) % paragraphs.length;
  show();
}

function prev(){
  index = (index - 1 + paragraphs.length) % paragraphs.length;
  show();
}

function createHeart(){
  const heart = document.createElement("div");
  heart.className = "heart-bg";
  heart.innerHTML = "❤️";
  heart.style.left = Math.random()*100 + "vw";
  heart.style.animationDuration = (3 + Math.random()*5) + "s";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),8000);
}

setInterval(createHeart,300);

window.onload = show;
</script>
